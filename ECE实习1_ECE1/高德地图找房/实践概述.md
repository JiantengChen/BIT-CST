## 1.实践简介


本项目针对大学应届毕业生等，需要在外地工作，有租房需求的人群。目的是通过地图清晰地找到在合理通勤范围内的房源，并有针对性地搜索房源。

项目功能为：在租房平台网站上爬取目的城市房源信息，并按格式存储在CSV文件中。另外，通过 高德地图 Web JS API ，构建前端界面。

以工作单位为中心，显示一小时通勤范围，将爬取的房源位置信息显示在地图界面上，并能展示通勤规划路径。

界面样例如图所示：

![](https://icode-image.oss-cn-beijing.aliyuncs.com/a10080a8102d060df30a2d71c73ec397.png)

具体房源信息展示：

![](https://icode-image.oss-cn-beijing.aliyuncs.com/44a434b355ae984abfcd1bc6b913667e.png)

## 2.相关概念


实现过程

项目整体实现主要有以下步骤：

- 从租房网站爬取房源信息
- 数据清洗、存入CSV文件
- 申请高德地图API
- 修改前端代码，实现效果

爬取房源信息

任意选取一个租房平台网站，爬取房源信息。

平台选取建议：

- 避免选取反爬虫机制过强的网站（如58同城等）
- 尽量选取房源名称和地址在列表上明显标出的网站，以避免嵌套爬取，造成大量资源开销
- 尽量选取静态数据展示网页，避免动态接口变化或鉴权受阻

爬取获得文件格式：

- **CSV**格式，读写效率高，有模块可以辅助写入
- 包含**房源标题**和**房源地址**，为了统一起见，分别位于[0], [1]列
- 可拓展如**房源链接**等内容，作为地图信息点的拓展

申请高德地图API

这个部分也可以多人共享API key，不需要每人都申请

- 在[高德开放平台 | 高德地图API](https://lbs.amap.com/)上申请成为个人开发者，转到控制台
- 在“**我的应用**”-> “**应用管理**”-> “**创建新应用**”处，填写信息，创建新应用
- 在应用列表点击“**添加**”

![](https://icode-image.oss-cn-beijing.aliyuncs.com/f370d0619d4cedc5fdbe4e753560376b.png)

- 填写Key名称，服务平台选择 **Web端（JS API）**，同意并提交
- 获得Key与安全密钥，此密钥将用于后续前端接口申请

![](https://icode-image.oss-cn-beijing.aliyuncs.com/dc4c88bfd8877fc1dca570c232eb94ab.png)

 注意：**API Key虽然在项目练习中可以共享，但实际生产环境中请勿共享自己的Key以及安全密钥**

修改前端代码

*(需要将实例代码块注释到`// end`标签处代码删去，作为代码空缺内容，保留注释，提供参考)*

&emsp;&emsp;在代码的块注释空缺处，有该代码段的功能描述，以及接口信息，修改前端代码，补全特定功能函数，以实现完整的前端界面功能。

* 部分空缺为高德API接口调用，按照给定的参考文档链接，补全调用函数。

* 部分空缺为JavaScript逻辑函数，按照功能需求，自定义补全功能模块

上线服务器

网页服务器可用简单Python脚本实现，注意主网页默认文件名为**index.html**，且需要与`server.py`位于同一个目录下。

```python
# server.py
from http.server import HTTPServer, CGIHTTPRequestHandler
PORT = 8080		# can be edited
httpd = HTTPServer(("", PORT), CGIHTTPRequestHandler)
print("Service start at port: ", PORT)
httpd.serve_forever()
```
模块功能

- 爬虫模块
  - 在租房平台上爬取数据
  - 数据清洗、写入CSV文件
- 网页前端
  - 与高德开放平台API适配
  - 根据工作单位生成一小时通勤范围
  - 读取CSV文件，将房源信息绘制在地图上
  - 点击房源标签，自动生成通勤规划路径

## 3.文件说明

```text
index.html          地图网页文件
README.md			项目描述说明文档
requirements.txt	项目依赖包版本号（项目需要下载到本地执行，如果有第三方依赖包，必须填写）
```


## 4.提交内容

C 或 Python语言相关程序代码，加解密程序读写文件使用相对路径，因为需要下载到本地运行评判，评判过程中不会修改代码。

## 5.如何评判

1. 提交内容
   1. 完整项目文件
   2. 前端运行功能截图（要求包含[模块功能](#模块功能)内要求的功能）
      1. 一小时通勤范围
      2. 房源信息绘制
      3. 通勤路径生成
2. 提交项目文件要求
   1. UTF-8文件编码
   2. 包含项目依赖文件`requirements.txt`
3. 评判权重
   1. 数据爬取 0.2
   2. 数据清洗与格式化 0.2
   3. 前端功能完整 0.3
   4. 前端美化 0.1
   5. 提交完整 0.1
   6. 代码规范 0.1
